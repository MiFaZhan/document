我已经找到了所有使用 custom_ngram_analyzer_slid 分词器的实体类和字段，现在可以整理结果并完成任务。## 项目中使用 `custom_ngram_analyzer_slid` 分词器的实体类和字段梳理

### 1. **TbInsurancePolicy. Java** (8 个字段)
- **insurancePolicyCode**：保单号
- **insuranceCompany**：保司名称
- **traceableCode**：循寻码
- **licensePlateNumber**：车牌号
- **vin**：车架号
- **vehicleModel**：车型
- **vehicleOwnerName**：车主姓名
- **vehicleOwnerPhonenumber**：车主手机号

### 2. **AccessoryOrderRepositoryDTO. Java** (4 个字段)
- **textMessageContent**：报案号已改为claimCode
- **insurancePolicyCode**：保单号
- **plateNumber**：车牌号
- **vin**：车架号
![](file-20251218153850547.png)

### 3. 分词器定义位置
- **tb_insurance_policy_setting. Json**：定义了 `custom_ngram_analyzer_slid` 分词器
- **tb_vehicle_accessory_order_setting. Json**：也定义了同名分词器

### 4. 分词器使用特点
- 主要应用于需要灵活搜索的业务字段（如保单号、车牌号、车架号等）
- 通常与 `custom_whitespace_analyzer_slid` 搜索分词器配合使用，实现索引与搜索的分离策略
- 适用于需要支持前缀、后缀、中间片段匹配的场景，提升搜索的召回率和用户体验


| 分词器名称                           | 配置文件                                                                        | 用途            |
| ------------------------------- | --------------------------------------------------------------------------- | ------------- |
| phoneNo_analyzer                | common_setting.json                                                         | 通用电话号码分词      |
| custom_ngram_analyzer_slid      | tb_insurance_policy_setting.json<br>tb_vehicle_accessory_order_setting.json | 保单、配件订单字段分词   |
| custom_ngram_analyzer_slid_2    | tb_vehicle_accessory_setting.json                                           | 配件名称、车牌号等字段分词 |
| custom_ngram_analyzer_slid_3    | tb_vehicle_accessory_setting.json                                           | OE 码字段分词      |
| custom_whitespace_analyzer_slid | 多个配置文件                                                                      | 搜索时使用的空格分词器   |

| Tokenizer 名称 | 类型 | 配置 |
|---------------|------|------|
| no_analyzer | ngram | min_gram=1, max_gram=30 |
| custom_ngram_analyzer_slid | ngram | min_gram=1, max_gram=30 |
| custom_ngram_analyzer_slid_2 | ngram | min_gram=1, max_gram=30 |
| custom_ngram_analyzer_slid_3 | ngram | min_gram=1, max_gram=30 |

这些分词器主要用于 ES 索引的模糊搜索场景，索引时用 ngram 分词（支持任意子串匹配），搜索时用 whitespace 分词（避免搜索词被切分）。


| 字段                  | 说明  | 是否支持搜索          |
| ------------------- | --- | --------------- |
| salesOrderNumber    | 订单号 | ❌ 未配置分词器        |
| plateNumber         | 车牌号 | ✅ 已配置 ngram 分词器 |
| claimCode           | 报案号 | ❌ 未配置分词器        |
| insurancePolicyCode | 保单号 | ✅ 已配置 ngram 分词器 |
| vin                 | 车架号 | ✅ 已配置 ngram 分词器 |
